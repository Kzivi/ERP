<!DOCTYPE html>
<html lang="pl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Item view</title>
    <link
      href="https://manufacturing.partners/images/favicon-16x16.png"
      rel="shortcut icon"/>
    <link rel="stylesheet" href="styles/styles.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <nav class="py-2 bg-body-tertiary border-bottom">
      <div class="container d-flex flex-wrap">
        <ul class="nav me-auto">
          <li class="nav-item">
            <a href="#" class="nav-link link-dark px-2" id="close-button">Close</a>
          </li>
        </ul>
        <ul class="nav">
          <li class="nav-item">
            <span class="nav-link link-dark px-2" id="activ_user">email</span>
          </li>
          <li class="nav-item">
            <a href="#" class="nav-link link-dark px-2" id="logout-button"></a>
          </li>
        </ul>
      </div>
    </nav>
    <script>
      $(document).ready(function() {
        var urlParams = new URLSearchParams(window.location.search);
        var wv_ii = urlParams.get('wv_ii');
        $("#wv_ii").text(wv_ii);
        document.getElementById("wv_id").innerHTML = wv_ii;
        $.getScript("scripts/JS/warehouse/iv.js", function () {
          iv(wv_ii);
        });
    });
    </script>
  </head>
  <body>
<!--Message-->  
</br>
<div id="feedback" class="alert alert-danger container text-center hidden"></div>
<div id="delete_confirm" class="alert alert-danger container text-center hidden">
  Are you sure to delete item?
  <button type="button" class="btn btn-primary btn-sm" id="idn">NO</button>
  <button type="button" class="btn btn-danger btn-sm" id="idy">YES</button>
</div>

<!--Item information-->  
<div class="p-2 bg-body-tertiaryrounded-3">
  <table class="table-striped w-auto">
    <tbody>
      <tr>
<td class="h5">Main information</td>
<td>
  <span><button type="button" class="btn btn-primary btn-sm" id="ieb">Edit</button></span>
</td>
<td class="item_editor hidden">
  <span><button type="button" class="btn btn-primary btn-sm" id="iebs">Save</button></span>
  <span><button type="button" class="btn btn-primary btn-sm" id="iebc">Cancel</button></span>
</td>
<td class="item_editor hidden">
  <span><button type="button" class="btn btn-danger btn-sm" id="iebd">Delete</button></span>
</td>
</tr>
  <td></br></td>
</tr>
          <tr class="w">
            <td class="h6">Data Base ID:</td>
            <td id="wv_id">placeholder</td>
          </tr>
          <tr>
            <td class="h6">Product Number:</td>
            <td id="wv_pn">placeholder</td>
            <td class="item_editor hidden"><input
              type="text"
              class="form-control form-control-dark text-bg-dark"
              id="ie_pn"
              placeholder="Product Number"
            /></td>
          </tr>
          <tr>
            <td class="h6">Item Name:</td>
            <td id="wv_in">placeholder</td>
            <td class="item_editor hidden"><input
              type="text"
              class="form-control form-control-dark text-bg-dark"
              id="ie_in"
              placeholder="Item Name"
            /></td>
          </tr>
          <tr>
            <td class="h6">QTY:</td>
            <td id="wv_qty">placeholder</td>
          </tr>
          <tr>
            <td class="h6">Localization:</td>
            <td id="wv_il">placeholder</td>
            <td class="item_editor hidden"><input
              type="text"
              class="form-control form-control-dark text-bg-dark"
              id="ie_il"
              placeholder="Localization"
            /></td>
          </tr>
          <tr>
            <td class="h6">Status:</td>
            <td id="wv_s">placeholder</td>
            <td class="item_editor hidden"><select
              id="ie_s"
              class="form-control form-control-dark text-bg-dark"
            >
              <option value="1">1. Active</option>
              <option value="2">2. Obsolid</option>
            </select></td>
          </tr>
          <tr>
            <td class="h6">Type:</td>
            <td id="wv_t">placeholder</td>
            <td class="item_editor hidden"><select
              id="ie_t"
              class="form-control form-control-dark text-bg-dark"
            >
              <option value="1">1. Part</option>
              <option value="2">2. Comsumable</option>
              <option value="3">3. Module</option>
              <option value="4">4. Final Product</option>
            </select></td>
          </tr>
          <tr>
            <td class="h6">Stock min:</td>
            <td id="wv_sm">placeholder</td>
            <td class="item_editor hidden"><input
              type="number"
              min="0"
              class="form-control form-control-dark text-bg-dark"
              id="ie_sm"
              placeholder=""
            /></td>
          </tr>
          <tr>
            <td class="h6">Supplier:</td>
            <td id="wv_sup">placeholder</td>
            <td class="item_editor hidden"><input
              type="text"
              class="form-control form-control-dark text-bg-dark"
              id="ie_sup"
              placeholder="Supplier"
            /></td>
          </tr>
          <tr>
            <td class="h6">Last Delivery:</td>
            <td id="wv_ld">placeholder</td>
          </tr>
          <tr>
            <td class="h6">Last Price (€):</td>
            <td id="wv_lp">placeholder</td>
          </tr>
          <tr>
            <td class="h6">Average Price (€):</td>
            <td id="wv_ap">placeholder</td>
          </tr>
        </tbody>
      </table>
    </div>
    <hr/>
<!--Table resoult-->
<p class="h5">History logs</p>
<div class="table-responsive">
  <table class="table table-striped table-sm">
    <thead>
      <tr>
        <th scope="col">Date</th>
        <th scope="col">Operation</th>
        <th cope="col">QTY</th>
        <th scope="col">Descryption</th>
        <th scope="col">Document</th>
        <th scope="col">By</th>
      </tr>
    </thead>
    <tbody id="item_logs">
    </tbody>
  </table>
</div>

<script>
  $(document).ready(function() {
    $("#close-button").click(function() {
      window.close();
    });
    $('#ieb').click(function() {
      $('.item_editor').removeClass('hidden');
      document.getElementById("ie_pn").value = document.getElementById("wv_pn").innerHTML;
      document.getElementById("ie_in").value = document.getElementById("wv_in").innerHTML;
      document.getElementById("ie_il").value = document.getElementById("wv_il").innerHTML;
      document.getElementById("ie_s").value = document.getElementById("wv_s").value;
      document.getElementById("ie_t").value = document.getElementById("wv_t").value;
      document.getElementById("ie_sm").value = document.getElementById("wv_sm").innerHTML;
      document.getElementById("ie_sup").value = document.getElementById("wv_sup").innerHTML;
      document.getElementById("ieb").disabled = true;
      $('#delete_confirm').addClass('hidden');
    });
    $('#iebc').click(function() {
      $('.item_editor').addClass('hidden');
      document.getElementById("ieb").disabled = false;
      document.getElementById("feedback").innerHTML ="";
      document.getElementById("feedback").classList.add("hidden");
    });
    $('#iebs').click(function() {
      $.getScript("scripts/JS/warehouse/ie.js", function () {
        });
    });
    $('#idn').click(function() {
      $('#delete_confirm').addClass('hidden');
    });
    $('#idy').click(function() {
    $.getScript("scripts/JS/warehouse/id.js", function (){
    });
    });
    $('#iebd').click(function() {
      $('#delete_confirm').removeClass('hidden');
      $('.item_editor').addClass('hidden');
      document.getElementById("ieb").disabled = false;
      document.getElementById("feedback").innerHTML ="";
      document.getElementById("feedback").classList.add("hidden");
    });
  });
</script>
  </body>
</html>
